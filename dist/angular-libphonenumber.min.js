/**
 * angular-libphonenumber
 * Nathan Hammond's libphonenumber ported to an angular filter
 * @version v0.0.3
 * @link https://github.com/cwill747/angular-libphonenumber
 * @license Apache v2
 */
!function(r){r.module("cwill747.phonenumber",[]).directive("phoneNumber",["$log",function(r){function e(r){return r?r.replace(/([^0-9|+])/g,""):r}function t(e,t){var n=e;try{n=phoneUtils.formatAsTyped(e,t)}catch(o){r.debug(o)}return n}return{restrict:"A",require:"?ngModel",scope:{countryCode:"="},controllerAs:"",controller:function(){this.countryCode=this.countryCode||"us"},link:function(n,o,u,i){function c(r){return i.$isEmpty(r)?r:t(e(r),n.countryCode)}function s(r){if(i.$isEmpty(r))return r;var o=e(r),u="";return u=o.length>1?t(o,n.countryCode):o,i.$viewValue!==u&&(i.$setViewValue(u),i.$render()),e(u)}function l(e){var t=!1;try{t=phoneUtils.isValidNumberForRegion(e,n.countryCode)}catch(o){r.debug(o)}var u=i.$isEmpty(e)||t;return i.$setValidity("phoneNumber",u),e}i.$formatters.push(c),i.$formatters.push(l),i.$parsers.push(s),i.$parsers.push(l)}}}])}(angular);